document.addEventListener("DOMContentLoaded",function(){function a(a,n){return f.getImageData(a,n,1,1).data}function n(){for(var n=0;n<s;n++){var o=$("<tr>");d[n]=[];for(var l=0;l<e;l++){var r=a(l,n),f=$("<td>"),i=$("<div>").addClass("bubble").addClass("off").text(" ");0!==r[0]&&i.addClass("black").addClass("on"),d[n][l]=i,f.append(i),o.append(f)}t.append(o)}}function o(){window.setTimeout(function(){function a(){var a=Math.floor(Math.random()*s),n=Math.floor(Math.random()*e),o=d[a][n];o.hasClass("black")||(o.hasClass("off")?o.addClass("on").removeClass("off"):o.hasClass("on")?o.addClass("wink").removeClass("on"):o.hasClass("wink")&&o.removeClass("wink").addClass("off"))}for(var n=Math.floor(10*Math.random()),t=0;t<n;t++)a();o()},500)}var e=42,s=15,t=$("<table>"),d=[],l=new Image;l.src="/images/tagline.png";var r=document.createElement("canvas"),f=r.getContext("2d");l.onload=function(){console.log("drawing"),f.drawImage(l,0,0),n()},window.setTimeout(o,5e3),$("#viz").on("mouseenter",function(){$(".bubble").not(".black").removeClass("on").removeClass("wink").addClass("off")}),$("#viz").append(t)});